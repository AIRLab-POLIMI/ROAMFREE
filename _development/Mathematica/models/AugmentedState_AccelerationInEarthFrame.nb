(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 7.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[     65586,       1753]
NotebookOptionsPosition[     61588,       1660]
NotebookOutlinePosition[     61974,       1677]
CellTagsIndexPosition[     61931,       1674]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"Clear", "[", "\"\<Global`*\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.5951624068865957`*^9, 
  3.595162434106801*^9}},ExpressionUUID->"71967e97-a8bf-4b65-bf21-\
6f598fe85398"],

Cell[BoxData[{
 RowBox[{"Import", "[", 
  RowBox[{
   RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
   "\"\<SimplifyFunctions.m\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Import", "[", 
  RowBox[{
   RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
   "\"\<QuaternionAlgebra.m\>\""}], "]"}]}], "Input",
 CellChangeTimes->{{3.595163228510494*^9, 3.595163230854044*^9}, {
  3.6175174204357758`*^9, 
  3.617517424343709*^9}},ExpressionUUID->"dbebc71d-614d-42b4-b263-\
4a441bbe15fa"],

Cell["General Functions", "Subtitle",
 InitializationCell->True,
 CellChangeTimes->{{3.563606408899285*^9, 3.563606413402224*^9}, {
  3.572951250149337*^9, 3.572951255936389*^9}, {3.697878963922769*^9, 
  3.697878965868561*^9}},ExpressionUUID->"b3c7b7b8-461f-4e99-b3b0-\
daadbac4bcb8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"L2", "[", "x_", "]"}], ":=", 
   RowBox[{"Sqrt", "[", 
    RowBox[{"Sum", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"x", "[", 
        RowBox[{"[", "j", "]"}], "]"}], "^", "2"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "1", ",", 
        RowBox[{"Length", "[", "x", "]"}]}], "}"}]}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"VecNorm", "[", "x_", "]"}], ":=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"x", "[", 
       RowBox[{"[", "i", "]"}], "]"}], "/", 
      RowBox[{"L2", "[", "x", "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "x", "]"}]}], "}"}]}], "]"}]}], ";"}]}], "Input",\

 InitializationCell->True,
 CellChangeTimes->{{3.568453075302482*^9, 
  3.568453143924776*^9}},ExpressionUUID->"c16e462c-a6ec-4c4c-8e29-\
e434f23884b0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"SkewMatrix4", "[", "v_", "]"}], ":=", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", 
        RowBox[{"-", 
         RowBox[{"v", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], ",", 
        RowBox[{"-", 
         RowBox[{"v", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], ",", 
        RowBox[{"-", 
         RowBox[{"v", "[", 
          RowBox[{"[", "3", "]"}], "]"}]}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"v", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", "0", ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", 
        RowBox[{"-", 
         RowBox[{"v", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"v", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", 
        RowBox[{"-", 
         RowBox[{"v", "[", 
          RowBox[{"[", "3", "]"}], "]"}]}], ",", "0", ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"v", "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", 
        RowBox[{"v", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", 
        RowBox[{"-", 
         RowBox[{"v", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], ",", "0"}], "}"}]}], "}"}], "/", 
    "2"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SkewMatrix", "[", "v_", "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0", ",", 
      RowBox[{"-", 
       RowBox[{"v", "[", 
        RowBox[{"[", "3", "]"}], "]"}]}], ",", 
      RowBox[{"v", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"v", "[", 
       RowBox[{"[", "3", "]"}], "]"}], ",", "0", ",", 
      RowBox[{"-", 
       RowBox[{"v", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", 
       RowBox[{"v", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], ",", 
      RowBox[{"v", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", "0"}], "}"}]}], "}"}]}]}], "Input",\

 InitializationCell->True,
 CellChangeTimes->{{3.568443187261707*^9, 3.568443273520089*^9}, {
  3.568458568630984*^9, 3.568458568967643*^9}, {3.697878941690507*^9, 
  3.697878953977639*^9}},ExpressionUUID->"582f6488-f472-4b78-b39d-\
f1a74a8d64a0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"SubVec", "[", 
    RowBox[{"exp_", ",", "v1_", ",", "v2_"}], "]"}], ":=", 
   RowBox[{"exp", "/.", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"v1", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "\[Rule]", 
       RowBox[{"v2", "[", 
        RowBox[{"[", "i", "]"}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{
         RowBox[{"Dimensions", "[", 
          RowBox[{"v1", ",", "1"}], "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"VecToZero", "[", 
    RowBox[{"exp_", ",", "v_"}], "]"}], ":=", 
   RowBox[{"exp", "/.", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"v", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "\[Rule]", "0"}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{
         RowBox[{"Dimensions", "[", 
          RowBox[{"v", ",", "1"}], "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], "]"}]}]}], 
  ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.568444740747602*^9, 3.568444776506934*^9}, {
  3.568444838483142*^9, 
  3.568444844345901*^9}},ExpressionUUID->"e17fd1f6-de2d-40f7-906b-\
7f5f12da8fcd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ToGoodC", "[", "exp_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "oexp", "}"}], ",", " ", 
    RowBox[{
     RowBox[{"oexp", "=", 
      RowBox[{"Experimental`OptimizeExpression", "[", "exp", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Dimensions", " ", "[", 
          RowBox[{
           RowBox[{"StringPosition", "[", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "oexp", "]"}], "]"}], ",", 
             "\"\<Compile\>\""}], "]"}], ",", "1"}], "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}], ">", "0"}], ",", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", " ", 
          RowBox[{"locals", ",", " ", "code"}], "}"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"{", 
            RowBox[{"locals", ",", "code"}], "}"}], "=", 
           RowBox[{"ReleaseHold", "[", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"Hold", "@@", "oexp"}], ")"}], "/.", 
             RowBox[{
              RowBox[{
               RowBox[{"Verbatim", "[", "Block", "]"}], "[", 
               RowBox[{"vars_", ",", "seq_"}], "]"}], "\[RuleDelayed]", 
              RowBox[{"{", 
               RowBox[{"vars", ",", 
                RowBox[{"Hold", "[", "seq", "]"}]}], "}"}]}]}], "]"}]}], ";", 
          
          RowBox[{"ToString", "[", 
           RowBox[{"CForm", "[", "code", "]"}], "]"}]}]}], "]"}], 
       "\[IndentingNewLine]", ",", " ", 
       RowBox[{"ToString", "[", 
        RowBox[{"CForm", "[", "exp", "]"}], "]"}]}], "]"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{"str_", ",", "file_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "stream", "}"}], ",", 
    RowBox[{
     RowBox[{"stream", "=", 
      RowBox[{"OpenWrite", "[", "file", "]"}]}], ";", 
     RowBox[{"WriteString", "[", 
      RowBox[{"stream", ",", "str"}], "]"}], ";", 
     RowBox[{"Close", "[", "stream", "]"}], ";"}]}], "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.568440350374321*^9, {3.56844481385726*^9, 3.56844481884285*^9}, {
   3.568446816971497*^9, 3.568446831371454*^9}, {3.56844689667688*^9, 
   3.568446897039928*^9}, {3.571133081827365*^9, 
   3.571133085326789*^9}},ExpressionUUID->"0fc09877-875b-4079-b69d-\
e5f18caf6209"],

Cell["Beginning of stuff", "Title",
 CellChangeTimes->{{3.5951624112710238`*^9, 3.5951624314967413`*^9}, 
   3.595309863589487*^9},ExpressionUUID->"1bf824a4-5a30-42a5-9354-\
53d99baff043"],

Cell[CellGroupData[{

Cell["State", "Subsubtitle",
 CellChangeTimes->{{3.5732982476551723`*^9, 
  3.573298257964068*^9}},ExpressionUUID->"4ba57180-396d-4f86-8fb4-\
d6acc70617ba"],

Cell[BoxData[
 RowBox[{
  RowBox[{"X", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"x", "[", "i", "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "19"}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.5732982634483347`*^9, 
  3.573298275094433*^9}},ExpressionUUID->"2b8da5a5-19b1-4e09-bab8-\
721385f0038b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"POSE", "=", 
   RowBox[{"X", "[", 
    RowBox[{"[", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3"}], "}"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Q", "=", 
   RowBox[{"X", "[", 
    RowBox[{"[", 
     RowBox[{"{", 
      RowBox[{"4", ",", "5", ",", "6", ",", "7"}], "}"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"V", "=", 
   RowBox[{"X", "[", 
    RowBox[{"[", 
     RowBox[{"{", 
      RowBox[{"8", ",", "9", ",", "10"}], "}"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"W", "=", 
   RowBox[{"X", "[", 
    RowBox[{"[", 
     RowBox[{"{", 
      RowBox[{"11", ",", "12", ",", "13"}], "}"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"A", "=", 
   RowBox[{"X", "[", 
    RowBox[{"[", 
     RowBox[{"{", 
      RowBox[{"14", ",", "15", ",", "16"}], "}"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Alpha", "=", 
   RowBox[{"X", "[", 
    RowBox[{"[", 
     RowBox[{"{", 
      RowBox[{"17", ",", "18", ",", "19"}], "}"}], "]"}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.573298284919364*^9, 
  3.573298372143531*^9}},ExpressionUUID->"83508836-6738-4681-84ef-\
f347c6a75619"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"Z", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"z", "[", "i", "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "3"}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.573298395591227*^9, 
  3.5732984059854527`*^9}},ExpressionUUID->"00950a88-dee8-40c0-bb6a-\
5a62b30e9310"],

Cell[BoxData[
 RowBox[{
  RowBox[{"NOISES", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"eta", "[", "i", "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "3"}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.5732984077193327`*^9, 3.5732984190733643`*^9}, {
  3.5732985094872217`*^9, 
  3.573298510909724*^9}},ExpressionUUID->"36d6c45f-edd2-4b39-bb63-\
7b574d806ba9"],

Cell["Parameters", "Subsubtitle",
 CellChangeTimes->{{3.576920320535687*^9, 
  3.576920325728017*^9}},ExpressionUUID->"84707b66-cc74-4d01-9d6f-\
1a11b2df03b2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"G", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"g", "[", "1", "]"}], ",", 
     RowBox[{"g", "[", "2", "]"}], ",", 
     RowBox[{"g", "[", "3", "]"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"B", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"b", "[", "1", "]"}], ",", 
     RowBox[{"b", "[", "2", "]"}], ",", 
     RowBox[{"b", "[", "3", "]"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GRAVITY", "=", 
   RowBox[{"gravity", "[", "1", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EARTHRATE", "=", 
   RowBox[{"SkewMatrix", "[", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0", ",", 
      RowBox[{"earthrate", "[", "1", "]"}]}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EP", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"ep", "[", "1", "]"}], ",", 
     RowBox[{"ep", "[", "2", "]"}]}], "}"}]}], ";", " ", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
    "ellipsoid", " ", "major", " ", "and", " ", "minor", " ", "axis", " ", 
     "a"}], ",", " ", "b"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"EPSHIFT", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"epshift", "[", "1", "]"}], ",", 
     RowBox[{"epshift", "[", "2", "]"}], ",", 
     RowBox[{"epshift", "[", "3", "]"}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.5769203268875628`*^9, 3.576920353976201*^9}, {
   3.579848369010777*^9, 3.579848383450678*^9}, {3.75240887665653*^9, 
   3.75240890422554*^9}, {3.752409137803782*^9, 3.752409143816001*^9}, 
   3.7524092067942038`*^9, {3.752412250522097*^9, 3.752412265061656*^9}, {
   3.752413096349072*^9, 3.752413102545268*^9}, {3.75241322722084*^9, 
   3.752413229397072*^9}, {3.752413434612543*^9, 3.7524134629295473`*^9}, {
   3.752496971436702*^9, 3.75249698879321*^9}, {3.75249764071647*^9, 
   3.752497655646514*^9}, {3.7524976952725554`*^9, 3.752497706586225*^9}, {
   3.752818879143519*^9, 3.752818903252512*^9}, {3.752818958453629*^9, 
   3.752818981844844*^9}, 
   3.753079658039414*^9},ExpressionUUID->"568bf3eb-794d-4b00-b22b-\
6a503125b8c9"],

Cell["Equations", "Subsubtitle",
 CellChangeTimes->{{3.573298514193714*^9, 
  3.5732985158016453`*^9}},ExpressionUUID->"5f309766-5cdd-4eee-9299-\
69013f4bd291"],

Cell[BoxData[
 RowBox[{
  RowBox[{"EllipsoidGradient", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"POSE", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "+", 
        RowBox[{"EPSHIFT", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", 
      RowBox[{"EP", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"POSE", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "+", 
        RowBox[{"EPSHIFT", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "/", 
      RowBox[{"EP", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"POSE", "[", 
         RowBox[{"[", "3", "]"}], "]"}], "+", 
        RowBox[{"EPSHIFT", "[", 
         RowBox[{"[", "3", "]"}], "]"}]}], ")"}], "/", 
      RowBox[{"EP", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.752497030375186*^9, 3.752497081795858*^9}, {
   3.7524972577380657`*^9, 3.752497284249647*^9}, {3.752497408525549*^9, 
   3.752497419646351*^9}, {3.752497711767399*^9, 3.7524977260410557`*^9}, {
   3.752818925453384*^9, 3.7528189322380667`*^9}, {3.753072370639036*^9, 
   3.753072422709798*^9}, 
   3.753072478994172*^9},ExpressionUUID->"1dccd443-3bf7-4fde-9d8e-\
2685ddae64b6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ERRlong", "=", 
   RowBox[{
    RowBox[{"G", "*", 
     RowBox[{"(", 
      RowBox[{"A", "+", 
       RowBox[{
        RowBox[{"QuatToRot", "[", 
         RowBox[{"QuatInv", "[", "Q", "]"}], "]"}], ".", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{"2", 
             RowBox[{"EARTHRATE", " ", ".", 
              RowBox[{"QuatToRot", "[", "Q", "]"}]}]}], ")"}], ".", "V"}], 
          "+", " ", 
          RowBox[{
           RowBox[{"GRAVITY", "/", 
            RowBox[{"L2", "[", "EllipsoidGradient", "]"}]}], " ", 
           "EllipsoidGradient"}]}], " ", ")"}]}]}], ")"}]}], "+", "B", "-", 
    "Z", "+", "NOISES"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.573298773759235*^9, 3.573298783763404*^9}, 
   3.573455980763609*^9, {3.5739809468490953`*^9, 3.573980996837056*^9}, 
   3.57630666931629*^9, 3.5763067147922153`*^9, {3.576920282185563*^9, 
   3.576920311531999*^9}, {3.576920361052491*^9, 3.576920369252778*^9}, 
   3.576920402032914*^9, {3.5770825046548243`*^9, 3.5770825086929283`*^9}, {
   3.577165243903932*^9, 3.5771652465576897`*^9}, {3.577165285323215*^9, 
   3.5771653028302*^9}, {3.577165339194231*^9, 3.577165340937408*^9}, {
   3.5771653998349047`*^9, 3.5771654413946238`*^9}, {3.577165472272493*^9, 
   3.5771654887071543`*^9}, {3.579848385502781*^9, 3.579848393494869*^9}, {
   3.579848515590158*^9, 3.579848527181378*^9}, {3.752408912449101*^9, 
   3.752408918266652*^9}, {3.752412287262389*^9, 3.7524124223672*^9}, {
   3.7524124782071743`*^9, 3.752412509027699*^9}, 3.7524129784695253`*^9, {
   3.752413108914879*^9, 3.752413142805394*^9}, {3.7524132527826157`*^9, 
   3.7524132541217127`*^9}, {3.752413295926252*^9, 3.7524132980909243`*^9}, {
   3.752413343799542*^9, 3.752413362767704*^9}, {3.752413486277783*^9, 
   3.75241348663888*^9}, 3.752472033646171*^9, 3.752472813465631*^9, {
   3.752496995225154*^9, 3.75249702859799*^9}, {3.7524970870890512`*^9, 
   3.752497094932003*^9}, {3.752576644486703*^9, 
   3.752576647053299*^9}},ExpressionUUID->"51a3e46d-e6fa-45cb-93c7-\
620cca159224"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ERR", "=", 
   RowBox[{"SimplifyQ", "[", 
    RowBox[{"ERRlong", ",", 
     RowBox[{"{", "Q", "}"}], ",", 
     RowBox[{"AreReals", "[", 
      RowBox[{"{", 
       RowBox[{
       "GRAVITY", ",", "G", ",", "B", ",", "A", ",", "V", ",", "POSE", ",", 
        "B", ",", "Z", ",", "NOISES", ",", 
        RowBox[{"earthrate", "[", "1", "]"}]}], "}"}], "]"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.752413488612846*^9, 3.752413563106489*^9}, 
   3.752413604031293*^9, {3.752413962772894*^9, 
   3.752413963153181*^9}},ExpressionUUID->"e4fadfe6-3e1b-4de2-b31e-\
e72f5af3eb8d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"GRAVITY", "/", 
    RowBox[{"L2", "[", "EllipsoidGradient", "]"}]}], " ", 
   "EllipsoidGradient"}], " ", "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.7524973897574368`*^9, 
  3.7524973909055557`*^9}},ExpressionUUID->"25b4879b-22c3-4877-9cf7-\
77d2335d902e"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       FractionBox[
        RowBox[{
         RowBox[{"gravity", "[", "1", "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"epshift", "[", "1", "]"}], "+", 
           RowBox[{"x", "[", "1", "]"}]}], ")"}]}], 
        RowBox[{
         RowBox[{"ep", "[", "1", "]"}], " ", 
         SqrtBox[
          RowBox[{
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "1", "]"}], "+", 
               RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "2", "]"}], "+", 
               RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "3", "]"}], "+", 
               RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]]},
      {
       FractionBox[
        RowBox[{
         RowBox[{"gravity", "[", "1", "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"epshift", "[", "2", "]"}], "+", 
           RowBox[{"x", "[", "2", "]"}]}], ")"}]}], 
        RowBox[{
         RowBox[{"ep", "[", "1", "]"}], " ", 
         SqrtBox[
          RowBox[{
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "1", "]"}], "+", 
               RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "2", "]"}], "+", 
               RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "3", "]"}], "+", 
               RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]]},
      {
       FractionBox[
        RowBox[{
         RowBox[{"gravity", "[", "1", "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"epshift", "[", "3", "]"}], "+", 
           RowBox[{"x", "[", "3", "]"}]}], ")"}]}], 
        RowBox[{
         RowBox[{"ep", "[", "2", "]"}], " ", 
         SqrtBox[
          RowBox[{
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "1", "]"}], "+", 
               RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "2", "]"}], "+", 
               RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
           FractionBox[
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "3", "]"}], "+", 
               RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
            SuperscriptBox[
             RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.752497391171043*^9, 3.752497434375854*^9, 
  3.752497773535343*^9, 3.752497867447348*^9, 3.7525766956677723`*^9, 
  3.753072602787155*^9},ExpressionUUID->"e5b40f44-4b2f-4916-aa91-\
71b690504fa3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ERRlong", "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.7524973566327887`*^9, 3.7524973595116777`*^9}, {
  3.752497465017844*^9, 
  3.752497465343293*^9}},ExpressionUUID->"adda0f80-2839-473a-9e96-\
c0cd18d73ee4"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"b", "[", "1", "]"}], "+", 
        RowBox[{"eta", "[", "1", "]"}], "+", 
        RowBox[{
         RowBox[{"g", "[", "1", "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           FractionBox[
            RowBox[{"2", " ", 
             RowBox[{"gravity", "[", "1", "]"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "3", "]"}], "+", 
               RowBox[{"x", "[", "3", "]"}]}], ")"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"-", 
                 RowBox[{"x", "[", "4", "]"}]}], " ", 
                RowBox[{"x", "[", "6", "]"}]}], "+", 
               RowBox[{
                RowBox[{"x", "[", "5", "]"}], " ", 
                RowBox[{"x", "[", "7", "]"}]}]}], ")"}]}], 
            RowBox[{
             RowBox[{"ep", "[", "2", "]"}], " ", 
             SqrtBox[
              RowBox[{
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "1", "]"}], "+", 
                   RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "2", "]"}], "+", 
                   RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "3", "]"}], "+", 
                   RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "+", 
           RowBox[{"2", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"x", "[", "5", "]"}], " ", 
               RowBox[{"x", "[", "6", "]"}]}], "+", 
              RowBox[{
               RowBox[{"x", "[", "4", "]"}], " ", 
               RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
            RowBox[{"(", 
             RowBox[{
              FractionBox[
               RowBox[{
                RowBox[{"gravity", "[", "1", "]"}], " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"epshift", "[", "2", "]"}], "+", 
                  RowBox[{"x", "[", "2", "]"}]}], ")"}]}], 
               RowBox[{
                RowBox[{"ep", "[", "1", "]"}], " ", 
                SqrtBox[
                 RowBox[{
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "1", "]"}], "+", 
                    RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "2", "]"}], "+", 
                    RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "3", "]"}], "+", 
                    RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "+", 
              RowBox[{"2", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"x", "[", "4", "]"}], "2"], "+", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "5", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "6", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
               RowBox[{"x", "[", "8", "]"}]}], "+", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "-", 
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "9", "]"}]}], "+", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "10", "]"}]}]}], ")"}]}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              SuperscriptBox[
               RowBox[{"x", "[", "4", "]"}], "2"], "+", 
              SuperscriptBox[
               RowBox[{"x", "[", "5", "]"}], "2"], "-", 
              SuperscriptBox[
               RowBox[{"x", "[", "6", "]"}], "2"], "-", 
              SuperscriptBox[
               RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
            RowBox[{"(", 
             RowBox[{
              FractionBox[
               RowBox[{
                RowBox[{"gravity", "[", "1", "]"}], " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"epshift", "[", "1", "]"}], "+", 
                  RowBox[{"x", "[", "1", "]"}]}], ")"}]}], 
               RowBox[{
                RowBox[{"ep", "[", "1", "]"}], " ", 
                SqrtBox[
                 RowBox[{
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "1", "]"}], "+", 
                    RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "2", "]"}], "+", 
                    RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "3", "]"}], "+", 
                    RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "-", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "8", "]"}]}], "-", 
              RowBox[{"2", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"x", "[", "4", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "5", "]"}], "2"], "+", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "6", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
               RowBox[{"x", "[", "9", "]"}]}], "-", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", 
                   RowBox[{"x", "[", "4", "]"}]}], " ", 
                  RowBox[{"x", "[", "5", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "6", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "10", "]"}]}]}], ")"}]}], "+", 
           RowBox[{"x", "[", "14", "]"}]}], ")"}]}], "-", 
        RowBox[{"z", "[", "1", "]"}]}]},
      {
       RowBox[{
        RowBox[{"b", "[", "2", "]"}], "+", 
        RowBox[{"eta", "[", "2", "]"}], "+", 
        RowBox[{
         RowBox[{"g", "[", "2", "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           FractionBox[
            RowBox[{"2", " ", 
             RowBox[{"gravity", "[", "1", "]"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "3", "]"}], "+", 
               RowBox[{"x", "[", "3", "]"}]}], ")"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"x", "[", "4", "]"}], " ", 
                RowBox[{"x", "[", "5", "]"}]}], "+", 
               RowBox[{
                RowBox[{"x", "[", "6", "]"}], " ", 
                RowBox[{"x", "[", "7", "]"}]}]}], ")"}]}], 
            RowBox[{
             RowBox[{"ep", "[", "2", "]"}], " ", 
             SqrtBox[
              RowBox[{
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "1", "]"}], "+", 
                   RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "2", "]"}], "+", 
                   RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "3", "]"}], "+", 
                   RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              SuperscriptBox[
               RowBox[{"x", "[", "4", "]"}], "2"], "-", 
              SuperscriptBox[
               RowBox[{"x", "[", "5", "]"}], "2"], "+", 
              SuperscriptBox[
               RowBox[{"x", "[", "6", "]"}], "2"], "-", 
              SuperscriptBox[
               RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
            RowBox[{"(", 
             RowBox[{
              FractionBox[
               RowBox[{
                RowBox[{"gravity", "[", "1", "]"}], " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"epshift", "[", "2", "]"}], "+", 
                  RowBox[{"x", "[", "2", "]"}]}], ")"}]}], 
               RowBox[{
                RowBox[{"ep", "[", "1", "]"}], " ", 
                SqrtBox[
                 RowBox[{
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "1", "]"}], "+", 
                    RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "2", "]"}], "+", 
                    RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "3", "]"}], "+", 
                    RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "+", 
              RowBox[{"2", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"x", "[", "4", "]"}], "2"], "+", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "5", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "6", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
               RowBox[{"x", "[", "8", "]"}]}], "+", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "-", 
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "9", "]"}]}], "+", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "10", "]"}]}]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"x", "[", "5", "]"}], " ", 
               RowBox[{"x", "[", "6", "]"}]}], "-", 
              RowBox[{
               RowBox[{"x", "[", "4", "]"}], " ", 
               RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
            RowBox[{"(", 
             RowBox[{
              FractionBox[
               RowBox[{
                RowBox[{"gravity", "[", "1", "]"}], " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"epshift", "[", "1", "]"}], "+", 
                  RowBox[{"x", "[", "1", "]"}]}], ")"}]}], 
               RowBox[{
                RowBox[{"ep", "[", "1", "]"}], " ", 
                SqrtBox[
                 RowBox[{
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "1", "]"}], "+", 
                    RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "2", "]"}], "+", 
                    RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "3", "]"}], "+", 
                    RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "-", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "8", "]"}]}], "-", 
              RowBox[{"2", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"x", "[", "4", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "5", "]"}], "2"], "+", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "6", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
               RowBox[{"x", "[", "9", "]"}]}], "-", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", 
                   RowBox[{"x", "[", "4", "]"}]}], " ", 
                  RowBox[{"x", "[", "5", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "6", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "10", "]"}]}]}], ")"}]}], "+", 
           RowBox[{"x", "[", "15", "]"}]}], ")"}]}], "-", 
        RowBox[{"z", "[", "2", "]"}]}]},
      {
       RowBox[{
        RowBox[{"b", "[", "3", "]"}], "+", 
        RowBox[{"eta", "[", "3", "]"}], "+", 
        RowBox[{
         RowBox[{"g", "[", "3", "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"gravity", "[", "1", "]"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"epshift", "[", "3", "]"}], "+", 
               RowBox[{"x", "[", "3", "]"}]}], ")"}], " ", 
             RowBox[{"(", 
              RowBox[{
               SuperscriptBox[
                RowBox[{"x", "[", "4", "]"}], "2"], "-", 
               SuperscriptBox[
                RowBox[{"x", "[", "5", "]"}], "2"], "-", 
               SuperscriptBox[
                RowBox[{"x", "[", "6", "]"}], "2"], "+", 
               SuperscriptBox[
                RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}]}], 
            RowBox[{
             RowBox[{"ep", "[", "2", "]"}], " ", 
             SqrtBox[
              RowBox[{
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "1", "]"}], "+", 
                   RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "2", "]"}], "+", 
                   RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
               FractionBox[
                SuperscriptBox[
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"epshift", "[", "3", "]"}], "+", 
                   RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                SuperscriptBox[
                 RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "+", 
           RowBox[{"2", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"-", 
                RowBox[{"x", "[", "4", "]"}]}], " ", 
               RowBox[{"x", "[", "5", "]"}]}], "+", 
              RowBox[{
               RowBox[{"x", "[", "6", "]"}], " ", 
               RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
            RowBox[{"(", 
             RowBox[{
              FractionBox[
               RowBox[{
                RowBox[{"gravity", "[", "1", "]"}], " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"epshift", "[", "2", "]"}], "+", 
                  RowBox[{"x", "[", "2", "]"}]}], ")"}]}], 
               RowBox[{
                RowBox[{"ep", "[", "1", "]"}], " ", 
                SqrtBox[
                 RowBox[{
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "1", "]"}], "+", 
                    RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "2", "]"}], "+", 
                    RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "3", "]"}], "+", 
                    RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "+", 
              RowBox[{"2", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"x", "[", "4", "]"}], "2"], "+", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "5", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "6", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
               RowBox[{"x", "[", "8", "]"}]}], "+", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "-", 
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "9", "]"}]}], "+", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "10", "]"}]}]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"x", "[", "4", "]"}], " ", 
               RowBox[{"x", "[", "6", "]"}]}], "+", 
              RowBox[{
               RowBox[{"x", "[", "5", "]"}], " ", 
               RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
            RowBox[{"(", 
             RowBox[{
              FractionBox[
               RowBox[{
                RowBox[{"gravity", "[", "1", "]"}], " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"epshift", "[", "1", "]"}], "+", 
                  RowBox[{"x", "[", "1", "]"}]}], ")"}]}], 
               RowBox[{
                RowBox[{"ep", "[", "1", "]"}], " ", 
                SqrtBox[
                 RowBox[{
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "1", "]"}], "+", 
                    RowBox[{"x", "[", "1", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "2", "]"}], "+", 
                    RowBox[{"x", "[", "2", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "1", "]"}], "2"]], "+", 
                  FractionBox[
                   SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"epshift", "[", "3", "]"}], "+", 
                    RowBox[{"x", "[", "3", "]"}]}], ")"}], "2"], 
                   SuperscriptBox[
                    RowBox[{"ep", "[", "2", "]"}], "2"]]}]]}]], "-", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"x", "[", "5", "]"}], " ", 
                  RowBox[{"x", "[", "6", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "4", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "8", "]"}]}], "-", 
              RowBox[{"2", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"x", "[", "4", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "5", "]"}], "2"], "+", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "6", "]"}], "2"], "-", 
                 SuperscriptBox[
                  RowBox[{"x", "[", "7", "]"}], "2"]}], ")"}], " ", 
               RowBox[{"x", "[", "9", "]"}]}], "-", 
              RowBox[{"4", " ", 
               RowBox[{"earthrate", "[", "1", "]"}], " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", 
                   RowBox[{"x", "[", "4", "]"}]}], " ", 
                  RowBox[{"x", "[", "5", "]"}]}], "+", 
                 RowBox[{
                  RowBox[{"x", "[", "6", "]"}], " ", 
                  RowBox[{"x", "[", "7", "]"}]}]}], ")"}], " ", 
               RowBox[{"x", "[", "10", "]"}]}]}], ")"}]}], "+", 
           RowBox[{"x", "[", "16", "]"}]}], ")"}]}], "-", 
        RowBox[{"z", "[", "3", "]"}]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.752497359802084*^9, {3.752497441911401*^9, 3.752497466056748*^9}, 
   3.75249779506612*^9, 3.752497867512507*^9, 3.752576695746415*^9, 
   3.753072602833791*^9},ExpressionUUID->"d76c5341-9f41-46dd-8e10-\
b40ac006f54d"]
}, Open  ]],

Cell["Predictor", "Subsubtitle",
 CellChangeTimes->{{3.573298851623851*^9, 3.57329885458322*^9}, {
  3.6326367603131237`*^9, 
  3.6326367612299*^9}},ExpressionUUID->"503017cf-c32c-4ce0-bad3-f104e3652bf4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "until", " ", "we", " ", "fix", " ", "the", " ", "predictor", " ", 
    "interface", " ", "we", " ", "just", " ", "predict", " ", "that", " ", 
    "we", " ", "move", " ", "forward", " ", "at", " ", "1", " ", 
    RowBox[{"m", "/", "s"}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"POSEhat", "=", 
     RowBox[{"POSE", "+", 
      RowBox[{
       RowBox[{"QuatToRot", "[", "Q", "]"}], ".", 
       RowBox[{"(", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"1", "*", "dt"}], ",", " ", "0", ",", "0"}], "}"}], 
        ")"}]}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Qhat", "=", "Q"}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.632636764848427*^9, 3.632636870351482*^9}, 
   3.633327075601856*^9, {3.634538652426509*^9, 
   3.634538703931034*^9}},ExpressionUUID->"f473869b-5a85-43cf-9852-\
89828b9302df"],

Cell["Output", "Subsubtitle",
 CellChangeTimes->{{3.573298851623851*^9, 
  3.57329885458322*^9}},ExpressionUUID->"2184bca4-542d-4b23-a613-\
8e0577355d1c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}]], "Input",ExpressionU\
UID->"a6fa882e-de21-4aa1-801e-b3eaf958d2e5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Err", " ", "=", " ", 
   RowBox[{"VecToZero", "[", 
    RowBox[{"ERR", ",", "NOISES"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"JErrNoises", "=", 
   RowBox[{"VecToZero", "[", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{"ERR", ",", 
       RowBox[{"{", "NOISES", "}"}]}], "]"}], ",", "NOISES"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"JErrPOSE", " ", "=", 
    RowBox[{"ConstantArray", "[", 
     RowBox[{"0", ",", 
      RowBox[{"{", 
       RowBox[{"3", ",", "3"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
     RowBox[{
     "the", " ", "jacobian", " ", "of", " ", "error", " ", "wrt", " ", "POSE",
       " ", "is", " ", "not", " ", "null", " ", "but", " ", 
      RowBox[{"insignificant", ".", " ", "Put"}], " ", "zero", " ", "to", " ",
       "make", " ", "things", " ", "faster", "\[IndentingNewLine]", 
      "JErrPOSE"}], "=", 
     RowBox[{"VecToZero", "[", 
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{"ERR", ",", 
         RowBox[{"{", "POSE", "}"}]}], "]"}], ",", "NOISES"}], "]"}]}], ";"}],
    " ", "\[IndentingNewLine]", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"JErrV", " ", "=", 
   RowBox[{"VecToZero", "[", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{"ERR", ",", 
       RowBox[{"{", "V", "}"}]}], "]"}], ",", "NOISES"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"JErrA", "=", 
   RowBox[{"VecToZero", "[", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{"ERR", ",", 
       RowBox[{"{", "A", "}"}]}], "]"}], ",", "NOISES"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"JErrQ", "=", 
   RowBox[{"VecToZero", "[", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{"ERR", ",", 
       RowBox[{"{", "Q", "}"}]}], "]"}], ",", "NOISES"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"JErrG", " ", "=", " ", 
   RowBox[{"VecToZero", "[", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{"ERR", ",", 
       RowBox[{"{", "G", "}"}]}], "]"}], ",", "NOISES"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"JErrB", " ", "=", " ", 
   RowBox[{"VecToZero", "[", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{"ERR", ",", 
       RowBox[{"{", "B", "}"}]}], "]"}], ",", "NOISES"}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.573299033702265*^9, 3.5732990981024723`*^9}, {
  3.573299164795454*^9, 3.5732991692508307`*^9}, {3.573456001706543*^9, 
  3.5734560048187523`*^9}, {3.5763025528705053`*^9, 3.5763025567536697`*^9}, {
  3.57692106709595*^9, 3.576921100943246*^9}, {3.579848533183785*^9, 
  3.5798485361840887`*^9}, {3.579848938633601*^9, 3.579848941096703*^9}, {
  3.7524138313253927`*^9, 3.752413839825356*^9}, {3.752413901682097*^9, 
  3.7524139097743073`*^9}, {3.752414055104679*^9, 3.752414155712246*^9}, {
  3.752467758365733*^9, 
  3.752467766827147*^9}},ExpressionUUID->"fadbee20-732e-4680-8863-\
dcbff53a3cac"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "Err", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_Err.mthout\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "JErrNoises", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_JErrNoises.mthout\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "JErrPOSE", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_JErrPOSE.mthout\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "JErrV", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_JErrV.mthout\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "JErrA", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_JErrA.mthout\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "JErrQ", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_JErrQ.mthout\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "JErrG", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_JErrG.mthout\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", "JErrB", "]"}], ",", 
    "\"\<AccelerationInEarthFrame_JErrB.mthout\>\""}], "]"}], ";"}]}], "Input",\

 CellChangeTimes->{{3.57329895973281*^9, 3.5732990549001513`*^9}, {
  3.57329915658729*^9, 3.5732991792126017`*^9}, {3.57329950483379*^9, 
  3.573299506552189*^9}, {3.573456025938487*^9, 3.573456050810623*^9}, {
  3.576302559030439*^9, 3.576302567642028*^9}, {3.576306664952265*^9, 
  3.576306666054682*^9}, {3.5769211081848917`*^9, 3.5769211195209103`*^9}, {
  3.579848623074568*^9, 3.579848624450903*^9}, {3.57984894285041*^9, 
  3.579848944309482*^9}, {3.752412209016698*^9, 3.7524122319200687`*^9}, {
  3.7524138623363*^9, 3.752413872841207*^9}, {3.752467770383849*^9, 
  3.752467775433879*^9}},ExpressionUUID->"5ad1b621-d3d8-4fab-84de-\
754ee29d1647"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_Err.mthout err 0 0\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_JErrNoises.mthout J 0 0\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_JErrPOSE.mthout J 0 0\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_JErrV.mthout J 0 0\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_JErrA.mthout J 0 0\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_JErrQ.mthout J 0 0\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_JErrG.mthout J 0 0\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_JErrB.mthout J 0 0\>\"", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.5732988905902853`*^9, 3.5732988936108313`*^9}, {
  3.573299192140649*^9, 3.573299200591135*^9}, {3.573299495929981*^9, 
  3.573299519080715*^9}, {3.573299798312479*^9, 3.5732997984226513`*^9}, {
  3.573456031155251*^9, 3.5734560323903913`*^9}, {3.576302574206983*^9, 
  3.576302577754424*^9}, {3.5769211245034637`*^9, 3.576921128114053*^9}, {
  3.5798486186830482`*^9, 3.579848620500196*^9}, {3.752412231928278*^9, 
  3.752412231932335*^9}, {3.75241388149787*^9, 3.752413886188072*^9}, {
  3.752467779981444*^9, 
  3.7524677822372837`*^9}},ExpressionUUID->"45033e9f-9be7-4115-819c-\
abf677dff80c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MyStringWrite", "[", 
   RowBox[{
    RowBox[{"ToGoodC", "[", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"POSEhat", ",", "Qhat"}], "}"}], "]"}], "]"}], ",", 
    "\"\<AccelerationInEarthFrame_predictor.mthout\>\""}], "]"}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.6345387189658327`*^9, 3.634538723497757*^9}, 
   3.752412231941319*^9},ExpressionUUID->"568ab65d-dad2-49be-8eac-\
2748b4af867e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<python ../fixMathematicaOutput_v2.py \
AccelerationInEarthFrame_predictor.mthout xhat 0 0\>\"", "]"}], 
  ";"}]], "Input",
 CellChangeTimes->{3.634538724202798*^9, 
  3.752412231951239*^9},ExpressionUUID->"cc10fa94-2636-4b37-99d1-\
e27d006579ac"],

Cell[BoxData[
 RowBox[{
  RowBox[{
  "Run", "[", 
   "\"\<mv *.cppready ../../../roamfree/ROAMfunctions/generated\>\"", "]"}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.6050014532183523`*^9, 3.6050015701885967`*^9}, {
   3.605001619532137*^9, 3.6050016309343433`*^9}, {3.626084473225601*^9, 
   3.626084492513814*^9}, {3.6260847134763527`*^9, 3.6260847142374268`*^9}, 
   3.6345388398230553`*^9},ExpressionUUID->"718b1c88-4ca3-42e6-8995-\
39e3e00b2310"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Run", "[", "\"\<rm *.cppready\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<rm *.mthout\>\"", "]"}], ";"}]}], "Input",Expressio\
nUUID->"e8a706b5-080e-4b1f-9768-2b05cf2e7c3e"]
},
AutoGeneratedPackage->None,
CellGrouping->Manual,
WindowSize->{1440, 773},
WindowMargins->{{Automatic, 480}, {Automatic, 2}},
FrontEndVersion->"11.1 for Linux x86 (64-bit) (April 18, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[545, 20, 201, 4, 38, "Input", "ExpressionUUID" -> \
"71967e97-a8bf-4b65-bf21-6f598fe85398"],
Cell[749, 26, 486, 12, 59, "Input", "ExpressionUUID" -> \
"dbebc71d-614d-42b4-b263-4a441bbe15fa"],
Cell[1238, 40, 285, 5, 53, "Subtitle", "ExpressionUUID" -> \
"b3c7b7b8-461f-4e99-b3b0-daadbac4bcb8",
 InitializationCell->True],
Cell[1526, 47, 925, 30, 75, "Input", "ExpressionUUID" -> \
"c16e462c-a6ec-4c4c-8e29-e434f23884b0",
 InitializationCell->True],
Cell[2454, 79, 2445, 76, 75, "Input", "ExpressionUUID" -> \
"582f6488-f472-4b78-b39d-f1a74a8d64a0",
 InitializationCell->True],
Cell[4902, 157, 1326, 41, 75, "Input", "ExpressionUUID" -> \
"e17fd1f6-de2d-40f7-906b-7f5f12da8fcd",
 InitializationCell->True],
Cell[6231, 200, 2492, 66, 228, "Input", "ExpressionUUID" -> \
"0fc09877-875b-4079-b69d-e5f18caf6209",
 InitializationCell->True],
Cell[8726, 268, 188, 3, 94, "Title", "ExpressionUUID" -> \
"1bf824a4-5a30-42a5-9354-53d99baff043"],
Cell[CellGroupData[{
Cell[8939, 275, 156, 3, 31, "Subsubtitle", "ExpressionUUID" -> \
"4ba57180-396d-4f86-8fb4-d6acc70617ba"],
Cell[9098, 280, 348, 10, 35, "Input", "ExpressionUUID" -> \
"2b8da5a5-19b1-4e09-bab8-721385f0038b"],
Cell[9449, 292, 1282, 45, 155, "Input", "ExpressionUUID" -> \
"83508836-6738-4681-84ef-f347c6a75619"]
}, Open  ]],
Cell[10746, 340, 347, 10, 35, "Input", "ExpressionUUID" -> \
"00950a88-dee8-40c0-bb6a-5a62b30e9310"],
Cell[11096, 352, 407, 11, 35, "Input", "ExpressionUUID" -> \
"36d6c45f-edd2-4b39-bb63-7b574d806ba9"],
Cell[11506, 365, 159, 3, 31, "Subsubtitle", "ExpressionUUID" -> \
"84707b66-cc74-4d01-9d6f-1a11b2df03b2"],
Cell[11668, 370, 2141, 54, 178, "Input", "ExpressionUUID" -> \
"568bf3eb-794d-4b00-b22b-6a503125b8c9"],
Cell[13812, 426, 160, 3, 31, "Subsubtitle", "ExpressionUUID" -> \
"5f309766-5cdd-4eee-9299-69013f4bd291"],
Cell[13975, 431, 1380, 38, 35, "Input", "ExpressionUUID" -> \
"1dccd443-3bf7-4fde-9d8e-2685ddae64b6"],
Cell[15358, 471, 2116, 42, 35, "Input", "ExpressionUUID" -> \
"51a3e46d-e6fa-45cb-93c7-620cca159224"],
Cell[17477, 515, 621, 16, 35, "Input", "ExpressionUUID" -> \
"e4fadfe6-3e1b-4de2-b31e-e72f5af3eb8d"],
Cell[CellGroupData[{
Cell[18123, 535, 314, 8, 35, "Input", "ExpressionUUID" -> \
"25b4879b-22c3-4877-9cf7-77d2335d902e"],
Cell[18440, 545, 4598, 129, 201, "Output", "ExpressionUUID" -> \
"e5b40f44-4b2f-4916-aa91-71b690504fa3"]
}, Open  ]],
Cell[CellGroupData[{
Cell[23075, 679, 244, 5, 33, "Input", "ExpressionUUID" -> \
"adda0f80-2839-473a-9e96-c0cd18d73ee4"],
Cell[23322, 686, 27968, 678, 300, "Output", "ExpressionUUID" -> \
"d76c5341-9f41-46dd-8e10-b40ac006f54d"]
}, Open  ]],
Cell[51305, 1367, 204, 3, 31, "Subsubtitle", "ExpressionUUID" -> \
"503017cf-c32c-4ce0-bad3-f104e3652bf4"],
Cell[51512, 1372, 931, 24, 82, "Input", "ExpressionUUID" -> \
"f473869b-5a85-43cf-9852-89828b9302df"],
Cell[52446, 1398, 154, 3, 31, "Subsubtitle", "ExpressionUUID" -> \
"2184bca4-542d-4b23-a613-8e0577355d1c"],
Cell[52603, 1403, 180, 4, 35, "Input", "ExpressionUUID" -> \
"a6fa882e-de21-4aa1-801e-b3eaf958d2e5"],
Cell[52786, 1409, 3027, 85, 273, "Input", "ExpressionUUID" -> \
"fadbee20-732e-4680-8863-dcbff53a3cac"],
Cell[55816, 1496, 2277, 58, 203, "Input", "ExpressionUUID" -> \
"5ad1b621-d3d8-4fab-84de-754ee29d1647"],
Cell[58096, 1556, 2018, 57, 203, "Input", "ExpressionUUID" -> \
"45033e9f-9be7-4115-819c-abf677dff80c"],
Cell[60117, 1615, 452, 12, 35, "Input", "ExpressionUUID" -> \
"568ab65d-dad2-49be-8eac-2748b4af867e"],
Cell[60572, 1629, 304, 9, 35, "Input", "ExpressionUUID" -> \
"cc10fa94-2636-4b37-99d1-e27d006579ac"],
Cell[60879, 1640, 453, 10, 35, "Input", "ExpressionUUID" -> \
"718b1c88-4ca3-42e6-8995-39e3e00b2310"],
Cell[61335, 1652, 249, 6, 59, "Input", "ExpressionUUID" -> \
"e8a706b5-080e-4b1f-9768-2b05cf2e7c3e"]
}
]
*)

